import index from '@/store/modules/image/index'
import FileAPI from 'file-api'
var File = FileAPI.File

// helper for testing action with expected mutations
const testAction = (action, args, state, expectedMutations, done) => {
  console.log(action)
  let count = 0

  // mock commit
  const commit = (type, payload) => {
    const mutation = expectedMutations[count]

    try {
      expect(mutation.type).to.equal(type)
      if (payload) {
        if (mutation.payload !== 'new') {
          expect(mutation.payload).to.deep.equal(payload)
        } else {
          sampleImageID = payload
        }
      }
    } catch (error) {
      done(error)
    }

    count++
    if (count >= expectedMutations.length) {
      done()
    }
  }

  // call the action with mocked store and argument
  action({ commit, state }, ...args)

  // Check if no mutation should have been dispatched
  if (expectedMutations.length === 0) {
    expect(count).to.equal(0)
    done()
  }
}

var sampleImage

var sampleImageID

describe.only('Image APIs', function () {
  before(done => {
    // sampleImage = new File('./207.png')
    /*
    sampleImage = new File({
      name: '207.png',
      type: 'image/png',
      buffer: Buffer.from('89504e470d0a1a0a0000000d494844520000030000000329080300000084fca4420000000467414d410000b18f0bfc6105000000017352474200aece1ce90000003c504c54458cebfffff8b5d7ffb5fafbf6fff78cb5efffffe4b6ffffffffd28cc5ff8c3086bffff5dcdbf3fbebfaddb4ceddffdda01214128aaabe646664f0e693639c1d46000020004944415478daec9d8992ab381644f5a472781c8d08c3ff7fec20b11a709517d0764f4e87db05c2b86bf2487985a0d41521c152fc0a100020040008010042008010002004000801004200801000200400080100420080100020040008010042008010002004000801004200801000a0d4745bc96dfb59c96dfbdf4ade372b010002000040000000080000000100002000000004000080000000100000000200004000000008000000010000200000000400008000000010020084000021004008001002008400002100400800100200840000210040080010020084000021004067a9690d00a0dc55b7f77bdb7c62e5f66ed61fe5d59863bf5cedded9e99da99bd68e0d4cdb0200faa61befdcdfb4f73f3af3baf7de1f00f49ff5e787bdf9e5eef7eedcf67e775fd3fa77f7bb9dbfc31d00d0e7b2bd5beb7bfb87135f03a07edaf81319ffe5acfb6edefbc6bd33d6361300f51d00d0777d6c3d9bb969fc26f76a9a21ca344df7d60d11eea771abdf68ba631adfc6f4078e1f56df179f500f2dead5d17e48d93ba11df6793afd7e67fb1ed001b909808e881600d0171afde3bddbffe05ebb9c314499eeb54b1fee47d305ee61abdfe8ecd8788bf6af8f008c6d7b1aea6ecff2e8eecde309a79d757fe6c7716004a05901d08d0b0080bed16835efd3d98f3e7134fd36df697b6bfb57b7b5dfd801e0cd3965a1be95ed4793b1edd46279f4146cc6132e76fa4fae5783d408805d0250fbf600800e07c0dab1ebedb77913f66e77878c0d8d27c58c1fd2dcbd5abb6cdb0c2db6472f4eb8dce9a2566de7fadbefda03c0cf0001003a010017ebfb24b200c0e722bf7506c01d3715bd5d0fdef829a5655b17e45d02da1ebd38e1bcd345a0da6caaf43d00fcbf00009d5003f824be056098e75f003075da8b1aa0f5761fdb5edb76282bd6473f003035ef8ae0fb5053f851a837fb4e0dd01d53d77577b21a00d0e700d8f9dfb333ef3e88ec47a0eb750940b767b2eba2089edb3abbfaaa7873f436028dbdfe540398f1fbedcc020d81eb7e6f01007daae102809d8b59e366d6fd8ff50a80c17fe60180eec8a9625dce024d6d9db9bd6137472f4f38ee34c3999bd1fff5088d9919ea01305eae120700f4c510d00589a60f1ab57bdff67e6cdcc60980da2f4370afd65d145e00706d977dfd0cc0d4766ab1397a79c2c5cec66d1ac7a5ee874e766c595f97b340cb0c0700e833f549a235e3fb66a8013ac7cd00741dad335d3d4cf22c0168e6c03e0030f6e2c384d0d49faf8f5e9e70dae9ce741ffbfd31e4d4c3fee60a00e868196b4d331060ec9827ac5d3532c366b301c83ef9e06ddbed96f984d34e63cdb3af79ce2f0000d02f36fe0b9f7b9bfb7f3b00a0be5cfda484688f5af9060028436cda367bff0300922d00400080100020040008010042008010002004000801004200801000200400080100420080100020040008010042008010002004000801004200801000200400080100420080fe92be69277bdac39101805f41da002cd5b3000a002014802509d6f2db0100a9002c47040604002857b757c4700000a201983060300000b90040010000c04801bf39002841e6f6a9180a00a000d9db57a2380600d100f443012301000806a01f09f85502806000180800204fe9db9162200000d1003010008074003c043000009201800100082d5355d56521b5ab79ffd900c000009cafc1f3ea030500a013d78a01e034dfabaf140600372f6400001de87c7588a608743b5fd2e74601e008eb5f8eb27e7800a49703009094f5a300207a1800802f128f3a49c101103c0c00c047b39a97d3ccbf04c0dc424ae6300000ef871e75b64600ec2db0040e0300f096f955104503402002009050cf3faa8a0780b824040089993f3a00ee123100a0e0b96707007d8b2539578801e0d7e99ef0e64f030039c50000a4d4f52704801404002035f7075c0b473d0c00e9b93f2100248c0200909afb9302a07c04002085aa3761004a470000164ac2fd71d6c289450000128a3ea902503202009098fbd304a0430000883e920128758104005489d93fd6ed00421150d85fa50a804d0d80124b01d90024e8fea40128b0145074fec9a94a1880e27290c2fe002039070905205df727b3185408020afb0380e41ca4b03f00485e292d0d0093bcfd535b0b57f87c90c2fe0020390729ec0f00928b6185fd0140f220a0b07faa1782afb70c94fd202004807cec9f1900d90f020afb0380e441400000955200c020201580dcec9ff0ed00450e028503505d54b600d85b46b200c0d48f6400b2bd305c320059da3ff9d5d085c5a07201a894020062905400cc45e50e80ce0d802c6350a100e46bff9c01c83106150940a514001083c40270c9daff39ad852b200629ec0f00c7ca0000e947320079c52045f70f00926390a2fb672d9ce4d92045f70f00926390a2fb0700c90428ba7f00905c0828ba7f6e07905c0828ba7f56434bbe22a0e8fe01407221a0e8fe590d2d9980ec013085f93fefb570f995c2b9035029050094c26201b82800a014160b805105ca940640da04e40c4055a2ff0b580b9755299c310017050010201600a31400408058002a0500102017804bb1fe2f652d5c2e170414f107002413a0883f0020f9929822fe0080e40b020aff17b018545bd3c9eaf3fb705d1a01d901a01400ec650be35f4e45c07e3f37650080f87f34009dff7be34f6fde71a47ee334d67c3d396b0000ff1f7c3b8099dbda776fa4d42f3b5a7711ebf63d00c91190150017250780d77be6a5e9df75a87dbdbdab300e0020350214fecf1c00b31c2c86216032aa1e766a6be72ad95efbb2d96abb38975eb4989baccf754091610080ab5f0702f0d054f7d3a76b005c75d0213094085db76f5dd5ac3b8b5f6d273d363163f49a9a9c00405a0464034025c3ff6fdf0ea01f637f6fd1cd08307adcf6eeeefea71f2390eecdbed3e47800922240e1ffbcd7c2bd06c0435b3b97d8130076cc4a9b2627009012019900705100702000665d04cf9fd21ffa643ae92800125a1caaf0bf1c006e2300f63900fd4ebb3f0d7b1800e910a0f0bf0400fa59203302a0b700ccb2cfa7478f0320190272004090fd3f580bb79e05da03c0fa59206b7f01c0efb7e39cd0f900a4520728fc9f39002f5c07d0e35a895f00b0af5c203b12804408481e804a01c0db5782cde3e4ce668a473faf01c2019006010affe77e3bc0ce5aa0a986350f897e2f02d9d59b80006800c0ffc7ac861e128e1d57830e99c75fe99ddd6daf1b00f47484192e7c691b0c80240850f83ffbfb6186fb01cce27e00f7de2f7de86b00bfccc12d675e0370f3d5f1700d78f88c7000a44040d2005c1400bc7e47d8c37450bff8ed761bd6020d0bddecc6dd7e8f9e0f1996c3050220010214fecffc7680dbc73703a4200b00f8ffabc5a00ffd330414048048ff7f05803639fe59190b00f8ff180020a0200084fabfd02783264c80c2ff00105b0600f0bf6400621290220046aeff8502a00140ecf24f00884b80c2ff99af858380c20050002010806853410aff0380640214fe0700c953410affe7bf18f4ef0bc4fa97db285def3b3f04d1c6abbf0d005c00e07800b68ff55f3ff6ca1a3bdd3569e22da6d0e20110efff1300d879acbfbedad5f3b2ecd4f35b137102560b0700ff7f733bc033ff6f1feb6fcce34320bcf7fbbf14a0e3aea6b3a201c0ff5f2e06ddf7d4e6b1fe9ddfd700b8d7feee6113f70a9c150c4085fdcf00a0af2ef563e07906808ebe9cda880500ff0702c0dd02fc0c001bfd96322d1500fc7fe252a0250043e0dfd400b76160d8fe5998b20950f85f1400e3b3121f67818622d898e58ca88c3240e17f5100f44f06d2bbd3a07aa88e2357c2561e00f83f1400c36cbf5e3f08d177fb6e009867448514c2490080f1d74b814e0260fa73017b4b219cef7d3d1c7b2e484b0300e39fbc166e04401b73db05a06f651f2e09c4f3bfb411800b60c10078f8bdeb75f4d6490010781a48e17f5123c0a0abd9fe0d603b5e12881a81425f0b8e0e00057038001ee77d760680e845b016772518ff9fbd1afa35008665d0cb85a13296832afc5ff262d0970118e7fea35e088b7157646400f07c1a23c07c1f4cc4a51002ef08c3f24146802c14e9c1285101600228c862d02c24f1b128f81f00a2c69fc80050000340dcf8131700fc1f6a2d1cf1274900b03b00c4f77f3c00703b0044baf89b040014c00010bffb8f070005c0af4b8134fe2f1b0083d903ae8523fe2407005e078075f7ffdf7f7200a000983d2f188047fffffc88590b54c975fbc5fdf354e37530232efe987f3f9d84005049f4fd4b9ad6c269af5bc9b5b05e75ff4eff640020c9faef6905802e9803bbe3ff9f9fff240070a1d37f0f800229d8893fbd4cf9005ce8f73f0160c0a0c0f8637e16fa573c0015deff02803228d88f3f91085014006998ff75003267e0f1e2d7bf9f95fe2b1b800beeff45e655003286e079fc8953062802501ae677babe03409e10fc167fa2842045004ac4fd0b00f41b2a29fec408418a009488fb3f04202706fe8c3f114290c2ff89b8ff73007261e0eff81321040504c060ffd300c8008197e24f780214054022eeff1280d419788c3fbffa3f68085204a054ec3f5d06f8148094117835fe041f02820150e1feb347808419783dfe842640118082dbbfba54fb1a0382d66521f056fc091c8214012888fd7bd3bff67fabb1d69684c07bf127f010a0084027dbff65df1f0942cef1272c018a00749afd3fb7fe0118641c7f82862045003ac5fe53a03fe81aca0710641b7f820e018a0074b4fd0fe9f70fa12031fffffb794bff95038020fb57278fdcc66684c0d33b1f130a418a007498fdab40b1f52d08b28c3f01435000008c08fb57d7907a87815cfd1f260429068003fc1fd6fdef329063fc091682ce07a02adcfe550cf7bf5915e7d8fd070a41e70350b8fdaf7165d244e018ff8708418a00f4b9ffabf84ff77e9981ece24fafec013005dbff9a8cd242e0c53b1fd318021403c047fe4fa3f37f6f18c82cfefc9fbd33dd91140782306cb68554ce41aaf77fd92d6e1bcc659cc6e0e0c7a8a70a9ad16e7e4444fa204e0e1606805f5afe557a472208fce737f7edb61c2c0cc02beb3fc5f23f88c0a3ec4f141354c000bda4fc0f868127d99f1812200a00bdaffe932eff43083cc8fec490800202f0a6f2bf1581f0f627420e9604805f56ff8f28ff23083cc6fe4430419200a0fc334240c6fec84b4001013854ff8f2aff031da164563ede2d010504e040fda736ec750881980488d91ff11c2c07807a51fd578f3ce2bd6949d0fe484f092a20002f2dff780888da1f6909282000dbf5ffe0f2dff5418fb03fc239580a0042fd3f40041e617f64737091bd00bcbafc77fb410fb03fb212200400bfa2fea97ac521484014fb232a0145e602f0f2c7ff3e020fb03fa21250e42d00ef7ffcef87e114563ede270145d60290c5e37f3709246f7f2425a0c85900f2a97f011b14bbfe8524a0c8580032b13f076c50eaf64750028a6c0520abc77f681188fef8179380225701c8b0fec311704bfdcb4c8828200039d89fa036e80efb232601459e0290e3e37fa71b74fbcac77b24203c00f35940ed647ae20858d061f1c9b6fe376d50d2f6474a020a6101981c054923c087dd579ef6270801ffc51cfc8d210185ac00a8a1f09bda3a4bc0396454c55701a8f238c89f801bed8f900414b20260b8123e3b455a9d23862a750c009579fd6f1090b2fd111a0b28a40560facb5909e053e7ffce3e0640c6f6ff800d4ad8fec84840114b004609a0e19ca15edb77ac0c2999abe6839f9b1f0a528d417ac8d1e3293303541c0200f5ef4bc0ddf64746020a4901b01ffabd1ccc01689c47fb9a21d53fc8db526c7762e0dfa186536828f9f194f99dae009059fd7b1070bffd11918042520094bd34befb7aa1005d8df762c14d9455b60552dd858e536cbb740080acdb3fc78240baf64744020203308fb1348ba92e00ac730d6b33023074777a9e1cedceee57ed0380faf78cc2d1563e469780b000f01500aa59af680060d291ee52473ba93b631780ecdb3fbe0424627f2424a01014805300140300bc04800a530a96edfefe4c5f00aa0a046c11908efd11180c2b0405e0600650cc44033e46efd35000eb0e8bf6e8f88b760040fd7be58084ec8fc036714101504b6b6277815c00b43d506efa40eb00f07028070023663b00a0febd0848cafe849780a0006c4f4f738f03a8a1d5bf01006f0e90a96d0851ff970848cbfe8497804252006c0fd4573ed9cd9d458b47ad87e02b00a0fdbf42c0bf2d0292b33fc125a0901400e75ca031c3da8ede658178f6c3ce14892d0b84fa3f3b2496a6fd09de090d08003b6b72980dcad5f44057c5349981c724300740195770ff4b7c0180fff1714129da9fd09dd0800038cbd2b11ea05d1fd3cc8e1e324037cd81e60034274e53212a57a3e82800a87f0f02fe25697f424b403800d6263bf7af57318ab69bfcf6f3406c4e74e345753722d163d34e16ea27cc050300a5bf4540a2f627740c2e6405c07b31408415c028fc2d0228e5fa0f1883c301b0b75c8550ffcf21e0df5d1b3f44f740451401e8822ceaff2904246d7fc2c6e0228e00dc4800e67f9e268092afff7012100a807477c342fd9f24e05fb2dd4f89181c0a00f5a8fac700d8fa8058c2dd4f89181c0a00d4ff4b08b0ed4f59a64a409916008cfa7f07018bfa4f96004a0a00f5a0fa4703689d00dbfef4c7ab252010004f1200d4f9a143976903f09712008cfa7f6ffda74a804e0800f59cfa4703f4504fb4b48e177ba030003c47001080cf3efed395004a06005f0198bf3aa02dcfe59e57cb9d8250ff51ebffcd1250dc27006d35b6fb418c2bbfba8502b3f55fcc07777d400090b03f0913900a009ef33cd5b0ce6bdc1694cc1d108d39fe5ca930028000f02a00281100bc1d90bdf8b7722d82ef37fd5441040006c8d301254a4099080097c36aa721e32fb201683fe1b30280facf81803400e0eb00b0b95f8ab5a1e204c0750140651f3d9e02002501c0e541001ab6c6a2c2da38c806802b0400c480e01e280000171fff6c768178be70a6f33dfdeb5f0ebf07120628131394020057d6fa76164a597bbcd9ef86544308a6caec889e0700f57f9980574e87b80ec01507c4ed962934b5831699626883aafe1d7887923002402e26a87c3800d66ae16e00e0f7a7a501fd639fc8ec8822008080401ee83a0001e6ecd8fba6cff610ea9341bf73d6915e100c503e2648df0e408899d064bfe28e1c2f1a606b48000608bdd0401ee83200216642b7e6868d396fec3ec11b0018a0d74ac0ed0014a114608ab74b00fa91e0c2f34d903040ef2540df0c400807d44dfe51ebb39eb952f6b4201820e4e0401ee82a00ea4a0f54595da0a119b4d848777ca5fc91362804202f09b81b804bcebf9fff3fbd24a9fb3b3905a038341086facf2d07d3ad005c190656dd30184f23c1ed5b009857b7fd3f30150206489a809785808b00a4b61a1e02909d092a010004206b09b81500080024e0d91ee81a009c3c00a8ffd74b407923002a7901c018b0c060c09b3cd0cb0180004898a0373542af0180040c09787808b80400430020010f0f019700501000e4e087878057030001882801a5a6dfa145d928b576dd43df0500040012309466bbb8bbfd430e014d5503d9e216e54d003004001230d67f5795259d27e0e805257567eaf92dee0240410020014327524f7e84ce66d8a3c494e32d74b010f062002000d124a0348b9e4ebe5c5b9f7e1977390780ee01000200095808c02801230743b95a0956575d6cd6659f60cb31480f19773c651f007d0b000c0180040c16a4b41cb90b80261d683d4484df635f37a9b9fc9578a57f47399cf27b9aeb3feb148766e86029f80200893b2054adac04ac39a0a1f4170a30d4b8ee6bb81ac5a0b442aee394c5dc8732d848c04b008000dc2901c700b0ced5d5f8e908c0f0605f9eb223005742c005002000191d141c009a87e0e9b77497aeb5934a872bd2370040100048c07900fe0600f43a00dd97da2d00aefabf1002fc0160080024e00c005d17880600ca2500066eabedd1d2dd65bd0180a4230004208204ac77815c00e8b60ba4f50600edf77ae809390158a9ffcc01c042b09b25e0c0384039cc95d80040ef0e90add5bf7f08f007000e089dd0ad9160b29b3b8b164fb99e01560158ad7fff10e00d002102c3036dcd051a332c598ede6581b4b3bdb904c0997fef028021009000c76cd071aa66ef79da91dea9ba9bb1dd597597e315d40f7c95da09c046fdfb87006f001422302460b11e808cf500cdcfedd4872e03b4d31c7e254e7300feda74dc8f01f7bfc309403b31a23f820d85bd000044e01406c3ba896c563ba89bfcf67b386b73a29b5e5477fb4d395dd24f87730160f54983a4606f00e080e0814ac788ecc9c500b7af8cf70580e080e0811c6b83e92e026203c010007820f7da60fda8ad217c0150100078209704dc46000000002978a0a7ed0fe70b001c103c505a040000009084077ad806899e00301c103c10004812005469540ff4f41d423d0150704049d5e5e71349f812f6400400b27540f100d06f4bc1af0340f2ff3ed7df4f737c6bce15007a5b08f004204707547fcca3a62c01a80040da0088d50177655f2b567527049c25009e1e68b9966b3e626c6c82787eb7d0d80070b200483d9755e37ca622a3460eeae077f1fd951101f0f3408d3f2fe79fd8ebbf488fab2649c76b03bd0d00c1e73fef7c12e22ee903e0e3819af9413305282b3ddb2f4b8f4f7eedf98e8d8800a8cc220039aabdf98c42cbcc130128f7ebfff7489f0140646f02d1d67ef7a680d277369d06005211e0eb2ab09f067c43c7ec0700e011029a155e3600bf7a9f03d03ec3f50501880940661180dd7ebf0e5d76df2700e0d908257bef2cfdb70680b700f8a5e09701202600eecc1a5602f8f30400aa0000344b80d700d0f4973c00942a003255406b85598f2980e788d81ff42368f6005a7746ff0df1d7186430db4dfd95b47ae504c05241ead02ecde5814e03d01bfe4506f8eb85c1f95a989400e0bc22c0aad5991ed95b00903982569b654cfde8c2efb087d9d831f8b67ae50440bd502a895eaddf4800991b0169c7aee97d0826323ba20020850850af3820a3beb600684ab5e666b79be629ff352e666e558198d95daedfeefb4e07eaf52b7b00c8d1ab0dff9f84ae02d0ed0c543adba0659f8ebd92703400546e11e0bbf7cda605328c8f2926bf1f67153f07e057f5cab8b25ebd72a8fcf9bff42be0803c43c00440dfed2fe71b21b68ffd4600a68e2800480280751f316ac34e067096e4ef193efbc5b31b29eb813e058ee5950300b327be5036be06c0f8ba00d75488a6eedb3cecd50bd29901106b14202400c6e79f4513695b10a6bf2eae1c2bddbe64ddbbc50f01030025d1cabb4edbb3b4352400005200803601a0730090f91c9f3f9f17e54bee28b2b87204c0eefa7c0522f065006c31f95bee88ee0f40190b80bc1c505000aaa9763f3b3d9bb9819ffccde2ca1100cbf4884460df146c28407f54b4d8ed99f430245002800c00f86e0230bfed54dc8b2ba7afcc877e2d12813d43c0623a74e9dae0b6b4a70501800486c1c266000b807aeb46ec70486ae5ca090065dcd7e821dd3f147600807e1ab43931344d0018009c0580ebeff73b1be5da076071d4bb0018552f1481e500187affbe0361b901106d35d8d57100b21753f2ea03da2aec7a0b00b50ac0e47b8422b0670ade07605a07e33915c26b20e04d0048ad06bb38125cb773796a669a5ba03d00d625691d00366289d41321d995f19100505965e0f980945de56b004ce55b5b6b298f03b0d1c3d902607cf08b45e02add95f100206e1b686336a8990eeab510bc0700fb0030dcf923e680d20540670d80dc8cf8fdf500eb00cc9c0c1d0660a3fbba0940ff338b456000901d00fb2bc2167e65646696a0f930001bd97b1380de037d0505c07349c06b00c86f53c4dd35c18b69679f09807a059a3d00ead510b00d40f7ec175d2396ea0689590150447c39aa6b0708fa9a9f7d1675ee54003ede066d6efaf501a0ad7dc9089cae0294592b80e0fff0fd7d81ecc7357f3e4606200b9a0d0066a6a75e4b013b0034c52fea80920d010040ec50f676a0edd816cffc10d983b84ba3d4fcbc05c07cede5d7de8294f91800cd8c53a1797000a04a66497ce4170370b7365d31b372ed0d5af70b1fa95d00ff656b1ce0f745f779fd2bea7500a8a38c864a6f05a31941fb5dad6a733dc026008d92883aa0cc01e0dc9a4046893bd7a82fbfaee723c1d3455b00d82bdd17f7fc1e548056ae18000080e02a507f17fb96185538be3d80aa61eb12f3b2eef37a0b80dfa9dd994631f70c985baaec01e0586a90470a0600518efa239b30af1fe2ff40fd9ab91000c06f58206902583802670e804a33034704801227403a02a73b1296110031c7c19c0363e91240624bc1a65bc00265d60575b46b9225a0968ec0e9b68172b640150888158101408a0454206014008a0e004270660a90740b280298892a000180ac6b9fa91d49a36c01d00020e76363983a9381808c0160d47f377328ce2bec7356800200e0d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005e761000c87049b0b14bcff75b1314203902a000b100b036aa020050805c00e8def1cc5cd79f4ff2db03c1020180d000187fe39c0980020000e75b03000000c8068048cb6f010000481480ea23be051b000000090310630b2a0090dab62800c06a0b0100000000ba506cbe07a039962fea32de5db738bbf3546db6f89fbd7361561407a2b0b7b224d4249af2ffffd91504e51504cda33b7d52b55377e622d6eaf9d2e774026cfc6af5dcdfc53f6c9e0e0000807c16e8b67a7cccda21bd53f36df36133dd3d4ddce673683e0070db79760d00880b80dcfb02ad043d7d84fcfdf92cb0e7547c1bfba4ab474baae0d10300e333c59ef7b8ba1d032070ba7403f7060500f32ed07d724ff2d723649637ea7ffd7df3e8e70927d0a8fbec59f4610042a703007200286181268f356d369f1abc7854cbab2234a1670c2f6eeca6de62de03a0d97964312c102a402a00a68f005e4cbbe35fe7fffc7a7de0e81e80dbf63bee01103c9db40af007003202d04c76422c67ddf1c8dbcc038d5da1d0d1ebc73bbe4bc80e00e1d301807a01b81405e09950dfcf865f9afd51b8b318fc5273e8e8f5d2f2fbf53b00844f970f80ff00808c0a107856f6d275bc843b5d0a789583e0d16bf7720480f0e950010401a03203709b8bd12d85dbac743b1e143efa2b00764e976c285400896da089b9beaf2e0d588edbc6d2d781a39b6f00089d4e5a13084f8acf06c07c27f42dacc1770cbe4f1688c300b8d300dc2800000b240c80e91ac06edfc5ad8dcfced15f0260728f6a764303806f0150d386cd5e6c90abb50000119649444154dfe5ddfbbc7f3efa04005347a500000068f202302b016ea7efd20c2f9a2deabab80064bf3dc59f64001c0058e660b5e7ba9ffa74878efe060055e0c24c0000006639f8be736de4d3fb4c1704c247ef02a016d6eadf8137970580010019013093bd9a7b1bd07ae9aa456656670158ad6efd0b6e8500006901207245cc25ff4ad8fab628f7ad48bc1583679b82c247870130eb6d72ff8ebcb9a40c2c0b80027707ddd90ebdb70bbf13ff7db92df4761680f93cdfaf7e99036f0e00c45480fc004c376fdee78fa876f35dfd4b071f3a7a070037dd7cf75cfd3507de1ceb60f1016800c03a0777576ffdbbb9fe5ac6e6b6bc0e6099534347ef00d09b9efeb2c7fe9af9fbb42db4f7e682228070009afc004c73f07c4bc2ecced1eedfba55bf7df41e00b397dcc217c567b86d350000005bf9b3196478bf391368599afda37701186f7d32dcfb6471cee09b03002900887e6245cea1ea5907e30c009e92546a506d0259e1150000a00b9a0500870a00000080cccb8231e866600000698acec07fb900a0ba140c0f54c8010100840044004900506d03c103898e00561a000801000000602d18191800200420037fd705fd0e0087140c00c8e91f002004888e007ff90020db074508c81001b40600178400b90e48f74336006453303c50f2a1dfa3822610730010028a02f064804a0656000021204b04580cef193781be04c02104088f0013fdb78fe1b94680ea008007caea8046003a06bc2000c8b48110028a3ba076324a420000e0814a38a019002521b0000025a0a0039a43c0a609f42d000d3c101c50188012101800000f44c0019572437f790170f04070401f01c8094166001002e080f61d506e08c402000f44d601658d0436330008017040470b4016081400800722ea80b2b821931900070f040774c201a586e00f00a00410ec016583203b00945330f644937540c922417e001a782038a0f6d711ad105800000fc4ac004485c000009480ec05200e0031ecd05f7e0008a56094006e11383a0305003017c46038a0d8c3e78e0075008018cc3302c78b04aa00000d4a80ec02900880af20300500a01d0250023845e05f21f82b0180ba2006a3002486803200b443004a00f302700a025b0480062540720f341700472030000025a0d202702412fc9501c0d1060025a09a02f0a91014028054084009c85b00745b68f8b811e027001a94001480120cf868cb601501801220a2006c42600a01e02e2801280005218810017e0280560840091054006610d86200342801320b001d003a0614004009105a00baa14d3100dc0525a0faa1881780d6960380580840099058005a531000f21e08d705545f0034008009929b800b03a0e803001314db001103409504805a0840091057007e8c00bf02d0a004a000707640bf02e0500290801937417f0680830742098869807c5d0ee867001a100003c4d801fd0c00070f041314cf00f9ca1cd0cf00506b84a204242d00d4f4dfaad200900b01580f4e6980a801e04d71009a0b4c101230db08f03b00ee02138404cc3602fc0e000f0f041354a301fabd091a0380e6021324a30344af00680a0010f44030412902003dfd4770401100303c000001f519a0080e280600cd0531000688a9038a0100450f841810dd00f92a1d500c00cc0526080688a9038a02400302aad73f410314c501450180a407420c881a002816004b0500c30600c4808af41fc501c501a0b9c004c100b17440710050171050b5fe4916004b0700c30700c4805af41fc7014502a0b92006d41b00481aa0480e281200443d1008a857ff911c5024000c2700404070683e062892038a0580e344008230ff0010cb01c502806a09000195eabf55c40068404095fa271a00a21580680050f5406886fe1680a916004b0d0066250004f0d67f6bc801c0ac04a0157444ff540d503c07140f00b2311804d437ffb78a20000d3702e082b8ceff110b404400143300ae1a04eceb9f6e01b01401605602ae8f6f1804f0d47f6b48024037066f2070edbf6310c052ff9a2600861100c3a28f85fc430b60740340cc081c1780860d01afef1c0428cb6dfe8f704ff44400a80b1302a6dfb4701714f03f94e7ffd65205807609b86cea5f38011cf51fd501c50580740c1e0970cb2f5b41ff9c0c50d4081c19000e25c0adbf6e05fd33d27fdc02101900fa25c06d7de10afae7a3ffb805203200e6429c00b7fd952be89f8bfe5b4b1a00e225c0790d0278ebdf1bd200d02e01eef1f905be76710b0296a7fe631780e800508ec1d77e0601019cf5df1ae20018e2fa0701bcf56fc903d010d77f980039412064ffe9ebbf55e40130d4f50f0218eb5f1bfa00d02c01b3c5fd2001226c90e5abfff8052001008abcfe6513c059fff10b400200289680d5e6ae300195db20c559ffad650180a2afff1d02ea0e0241fbcf42ffdeb000805a096836bfdb300115db20cb5aff290a4012001403fd8b2480b9fe5bc304005225a0097eb76102eab44161fbc344ff960d008a83febba682a422109efe350bf92749008900a053029a0f9fa996d20d623ffd272a008900a0b21cec3e369685d8a00af4ef0d27001a1efadf0d0215d920cb5fff890a402a00489480eba18945578fc08efcf9e8df1b5e00344cf4ff81800a7c90aa42ffa90a4032000c17fdef0701fe45a00ef9272b00e900706cf4bf5f04788761b5f77fa6f9e83f5901480780e1a3ff0f04d83aa77f4ef37fba02901080a225e0ece4b64b00570476e5cf4affe90a4042004ae6e02f8afbae5838fa20558ffc1316809400384efaff58049821a02a9afe5316809400142b015f86bb7d0278f9a07df973d3bf363c0128b327aef9fedbad05810ff2d72db3a1980250a40434bfcc6e1f08e081c027f97b6efa4f5900d2026098e9ff3301f411f8247f7efa4f5a001203e098e99f3d0215cabf4dfb81a70520b70972113eef8f0490ed08a98ff2e7a87f6f3803a0d8e9ffe392005504ea947fea02901a80ac25c0459b74f8217040fe3cf5af0d6f0032e6e06bccbaab0f30c0c8fa73957fe2049c0300c751ffc708205206d421f933d5bf36dc01c86582aeb13ffa43081467e090fad94eff696e05941900c553ffc71128c7c041f5f35bfacd9580b30090a504a4f98afd417d15a90387d5efd94effa95ba09900305cf57f0681cc0c1c563f63f793a5006401c0b1d5ff2904b2317042fdace59f3e01670220b5094a6c714f20901e8233e2e76cfeb3b440b30190d40435e927b9539a4b978a953da77ecf5bfe6d9685963c0038d6fa3f5b0512507056fbfc67ff2c09381b00e94c50936b9ad3e7878d42c143fbe7c5cf7ef6cf6480b20160b8ebff9b2af06b31f866daaf64f6cf9480330290c604b9cc4559ff30ecd182d04df9f69777aa60f6cf6580f20190c404b9fc5f8b8e32ece68873ee2ae49fcb006504c0d4a0ff7808241abe12f9e7324039017055e89f3402d5c83f9b01ca09406c13742df9fd90947f5bcfb0350260aad17f878087fa2b3040790170f5e89f5619f075c93fc355006500886882ae34be280ff5f336409901884600a1851e0ff5333640b90150d5e9bf240355aa3f6707283f00716200c185fefc99b852f5673640d9018860821aaa1b5d3cc4cfce00e507c070dafe461182aac59f5ffff9015035eb3fb11daa5dfcdd50b503f05b0c68b84820360512b49f3f001401e09718e0983ddb2d06065e8af64b18a022001876dbdf7ec6e01b10fa97b5b28637220050a2f4bf20619f85e19056e8503200f83206b82ae73cb162a710004a01f0550cb842200800b50060a07f0c0a06a818000afac72060808a0170360640ffd07f5d009c23c0421f080095017026086be8032b00d50160a07f8cb201b8300086f9f6670cf601a030000efac728acffa2001c21a0c14a290270b5007c0ec2d03ff45f33009f0880fe2534809460004c4ddbff31b8050002002869db3f3148e9bf38003b4118fa4700100040900071db7fb4558f6135f7f760a57f02000482b034fdeb2e0aaafe8f64c9c7dbee2dba37b1d03f1d00360910a87fd5dde3dcf73f9c7cf1d117e861ee7fbc078d1a50b6014406800d02c4f91ff59e94ad5167a7d1a372f6afb7b0d03f21008cf8edcf7a6a7ccececff6f47caecf3256650388100046faf67f359d928712f0e2400fbff4b68bb0d60f07f93ed25a3dc8483f0f9964dcd7211b0058e89f140046f6f6676f8c5ffd6d09c0c330a8ee51c3cf5af150771f69f543e2a67fc8ea9024ec2be3be0ed9b01e1afaa7058013bdfd7361499efa5c55805ee37e28160f1b6f5ec5603cf029f68d43e6bda0ada22054ff640078112072fbf3310066c7da772ff305c0986d87446137da9d7deca4b00ea00d00d82240e6f6ff3300f81100b50cc1fe95a49f2fdd6a277531c29c6fb456ab7f4200f40408ddfef915007609c0fb2ccf5f869a9ddd5a8385fec901601ab1db9f8f01f0ec02a91100bd06e03dec6e7b54275c6ee6b2004010002376fbf3a12e90edbb40d6ee00d0ffde8e3da19df581b26d2042faa70580dccb7f0fac03e8c1b9fb1d00ecd105325bf2b3a6a47f5a00c82560e68106e5ab797367d2e20900e017a197680520a57f6200c82560632fd0a8f8a1ad3fca79cb02d9c50f9f0028990168e99f1a006209786d02d5766c520e9ec7db11003b34f79700bce4dc7577fcf3249b00d86101a064178898fec9012099807eb3fea449dffddc25dfa7b7ef77423c7efff86fa1eee71e89612bc4708e6d00badf76e750d03f590004e700db6b57cf57adbacd6fc35ea061a39b5da9bbff8d9e744a9f33fd0a80f1b7e55682c9e99f200046f4ade06ce10ebd34fd53044034015e554c0041fd9304403a01d643ffb201104d40f98d3a92f44f1400855bc241ff92010001d0bf6c0040406dc68ea8cec8020002a07fd9008000e85f360020a09a610d000001d03f00384d001e9007fd4b0640f8be20e81f00180b05b581dbfa2f568ca7f7bbb274660ee2fa270f80020181dbfa2f6f7b65957d5f4346e553a3bafcc50700d480c06dfdb5b18b1bc6d9e7ed707b163cf45f0d00d56e8e3ca1a3d7a4ff96bc527a5110f4f8a4004d65d2d0f4c5c50100b443df829ade0e710940f77c99e7d5c3443e306b0000daa17101b0939f9600747f76ff44a500b0d03f0f00d00e1d1db51e7f7a4cf2210068140006f69f130088c2eb3667c0023dfe99c013003413fdb301403801f3dbfa8ff74a9c77818610acd4b4238af85b0b00b20998ddd6bf3740ebbba6ffdfdebdec340c4341185e44b22b79e1f77f5b084d2f50ca452ab8ce7cb344acdaf9ed39e3d469db687c9c8e8706a15601a00c7a78062ae7571f95c36ddbf9bae6afcbfeba015c1a51fedf1100ead0e31d88e57c4bee87cba0d7e0bffafeaa1135feee090065d05a036d01e84eddb9b4ad101a064099caff9301904ec01a6eca571fc85bfa190a409bcb50b301105f0695f55da89beaf2f11dc0c7a7e00646a03e9bffa70320fa54f8fdb5fe9f44a056cbe13070089e2cfe4c0940600cba73adff2d00db63d0d70f868a3ffb03202e06ddb9d6ff168053f73fe620accfe8ff2901488b4177aef5bf01e0f23b98118f424c187fa605401ffa94db1400c4a0d853ea59fd3f2d007e23f054f5d452012006893f0010832cff001083b24ee72a00c4a0d8e977a90010832cff00b00958fe01306613706d90e53f19009b80b3af7000fc58d2f29f0d8061d8f21f0e803301cb7f3600360147bfe100d804fe47ad560068442dff00d0883afa02804654fa01804d40fa01806158f50f0008a8fe01a00f927e000001f607c058045857f5990c8042c8ec1b0e806958f39f0d0004d83f1c0067c366df70001442ec1f0e804288fdc301b00ba87ec2017845c038ccfec9006884d83f1c00087c9ffdb3ec1f0740ad8b79d8e89b0c807998fdd301300fb37f38008681c0871e000001c50f000c03ec0f00c3407af4070006d81f00a7a381cc28549aef1e00a913716f8baf1d00a951c8e20f80dc28d4b91f00b951c8dc0b80dc2824fa002098018b3f007ecec0cee6816ef107c06f67e2b21ff75bfb01901a868ac61f00b16188fb01901b86c47e00e48621ee07c0e3378249d250e17e00a442c0fc00f8fb38549e35f6303f0042b7027d0f005221e8cc0f807179682805bd303f003231e8123f003231e89a1e00646220f10060220e5a29fd2128f4d5f8020f00b250607b00ec4d4b3baa6cea176d7fd9fe81ed014004002200100180080044002002001100880040040022001001800800440020020011008800400400220010018008000400220010018008004400200ad10b7f34a84e5ef250170000000049454e44ae426082','hex')
    })
    */
    done()
  })

  describe('index', () => {
    it('getImage', done => {
      testAction(index.actions.getImage, ['5a98ada216608d51864ef43c'], {}, [
        { type: 'SET_IMAGE_ID', payload: '5a98ada216608d51864ef43c' },
        { type: 'SET_IMAGE_PATH', payload: '/images/google.jpg' },
        { type: 'SET_IMAGE_ID', payload: '' },
        { type: 'SET_TASK_STATUS', payload: true }
      ], done)
    })
  })

  describe('index', () => {
    it('uploadImage', done => {
      testAction(index.actions.uploadImage, [sampleImage], {}, [
        { type: 'SET_IMAGE_ID', payload: 'new Image' },
        { type: 'SET_IMAGE_ID', payload: 'new' },
        { type: 'SET_TASK_STATUS', payload: true }
      ], done)
    })
  })

  // testing on a new uploaded image, can be used once, otherwise need restore
  describe('index', () => {
    it('deleteImage', done => {
      testAction(index.actions.deleteImage, [sampleImageID], {}, [
        { type: 'SET_IMAGE_ID', payload: sampleImageID },
        { type: 'SET_IMAGE_ID', payload: '' },
        { type: 'SET_TASK_STATUS', payload: true }
      ], done)
    })
  })
})
